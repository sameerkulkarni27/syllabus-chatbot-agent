from langchain_openai import OpenAIEmbeddings
import faiss
from langchain_community.docstore.in_memory import InMemoryDocstore
from langchain_community.vectorstores import FAISS
from config import EMBEDDING_MODEL


def initialize_embeddings_model():
    embeddings = OpenAIEmbeddings(model=EMBEDDING_MODEL)

def create_vector_store(split_chunks):
    embedding_dim = len(embeddings.embed_query("hello world"))
    index = faiss.IndexFlatL2(embedding_dim)

    vector_store = FAISS(
        embedding_function=embeddings,
        index=index,
        docstore=InMemoryDocstore(),
        index_to_docstore_id={},
    )

    vector_store.add_texts(split_chunks)
    return vector_store



